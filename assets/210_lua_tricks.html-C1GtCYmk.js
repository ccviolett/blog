import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,f as e}from"./app-kRcJ-ame.js";const t={},o=e(`<h1 id="lua-的一些小技巧" tabindex="-1"><a class="header-anchor" href="#lua-的一些小技巧" aria-hidden="true">#</a> Lua 的一些小技巧</h1><h2 id="异常处理" tabindex="-1"><a class="header-anchor" href="#异常处理" aria-hidden="true">#</a> 异常处理</h2><p>异常处理是程序中至关重要的一环，不仅仅保证了程序不会意外中断、丢失数据、造成更大的影响，也能够为运营提供足够的数据来判断问题的出处。</p><p>在 Lua 中没有类似 <code>try-catch</code> 或 <code>try-except</code> 之类的语法糖，只给我们提供了 <code>pcall</code> 和 <code>xpcall</code> 两个函数来进行异常处理。</p><p>我们可以按照下面的模板来写 Lua 当中的异常处理：</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">if</span> <span class="token function">xpcall</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">CallTheFunction</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token function">HandleError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
	<span class="token comment">-- do something when everything good</span>
<span class="token keyword">else</span>
	<span class="token comment">-- do something when something go wrong</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),c=[o];function p(l,i){return a(),s("div",null,c)}const u=n(t,[["render",p],["__file","210_lua_tricks.html.vue"]]);export{u as default};
