import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as i,c as n,a,b as e,d as s,f as c}from"./app-CH6PQBFE.js";const l={},d=c('<h1 id="基于-selenium-的全能爬虫指南" tabindex="-1"><a class="header-anchor" href="#基于-selenium-的全能爬虫指南" aria-hidden="true">#</a> 基于 Selenium 的全能爬虫指南</h1><h2 id="selenium-小技巧" tabindex="-1"><a class="header-anchor" href="#selenium-小技巧" aria-hidden="true">#</a> Selenium 小技巧</h2><p>截图</p><p>x = driver.get_screenshot_as_base64()<br> image = base64.b64decode(x)<br> with open(image_name, &quot;wb&quot;) as file:<br> file.write(image)</p><p>使用 Cookies</p><p>首先我们要确保 driver 停留在 Cookies 中 domain 所描述的页面上，否则可能会添加失败。</p><p>for cookie in cookies:<br> cookie_dict = {<br> &#39;domain&#39;: &#39;.woa.com&#39;,<br> &#39;name&#39;: cookie.get(&#39;name&#39;),<br> &#39;value&#39;: cookie.get(&#39;value&#39;),<br> &quot;expires&quot;: &#39;&#39;,<br> &#39;path&#39;: &#39;/&#39;,<br> &#39;httpOnly&#39;: False,<br> &#39;HostOnly&#39;: False,<br> &#39;Secure&#39;: False<br> }<br> driver.add_cookie(cookie_dict)</p><p>获取 input 类型</p><p>可以通过 item.get_attribute(&#39;attribute&#39;) 来获取其 HTML 属性（见 selenium 获取input输入的文本值和获取元素中的文本内容_c# selenium获取input的值-CSDN博客），故我们可以通过 item.get_attribute(&#39;type&#39;)来获取 input 的类型，来判断是否可以点击、是否用于提交表单。</p><h2 id="网络请求-har-抓取" tabindex="-1"><a class="header-anchor" href="#网络请求-har-抓取" aria-hidden="true">#</a> 网络请求 HAR 抓取</h2><p>我们通过 <code>Browsermob-Proxy</code> 来完成网络请求的抓取。</p>',11),h={href:"https://www.oracle.com/cn/java/technologies/javase/jdk11-archive-downloads.html",target:"_blank",rel:"noopener noreferrer"},_=a("p",null,[e("随后我们需要通过 "),a("code",null,"pip install browsermob-proxy"),e(" 安装相关的 Python 包。")],-1),p=a("h2",{id:"相关资料",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#相关资料","aria-hidden":"true"},"#"),e(" 相关资料")],-1);function m(u,b){const r=t("ExternalLinkIcon");return i(),n("div",null,[d,a("p",null,[e("BrowsermobProxy 是一个基于 Java11 的服务框架，我们首先要确保我们电脑上安装了 Java11，见 "),a("a",h,[e("Java Archive Downloads - Java SE 11 | Oracle 中国"),s(r)]),e("。")]),_,p])}const x=o(l,[["render",m],["__file","110_crawler_by_selenium.html.vue"]]);export{x as default};
